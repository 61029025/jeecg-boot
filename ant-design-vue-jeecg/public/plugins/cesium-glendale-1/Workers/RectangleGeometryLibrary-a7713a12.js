define(["exports","./when-54c2dc71","./Check-6c0211bc","./Math-fc8cecf5","./Cartographic-83b6e736","./Cartesian2-26928b4a","./Transforms-e2084567","./GeometryAttribute-1e2acabc"],function(t,d,n,X,l,Y,a,S){"use strict";var w=Math.cos,M=Math.sin,m=Math.sqrt,r={computePosition:function(t,n,a,r,e,o,s){var i=n.radiiSquared,c=t.nwCorner,g=t.boundingRectangle,h=c.latitude-t.granYCos*r+e*t.granXSin,u=w(h),C=M(h),l=i.z*C,S=c.longitude+r*t.granYSin+e*t.granXCos,n=u*w(S),c=u*M(S),u=i.x*n,i=i.y*c,C=m(u*n+i*c+l*C);o.x=u/C,o.y=i/C,o.z=l/C,a&&(a=t.stNwCorner,d.defined(a)?(h=a.latitude-t.stGranYCos*r+e*t.stGranXSin,S=a.longitude+r*t.stGranYSin+e*t.stGranXCos,s.x=(S-t.stWest)*t.lonScalar,s.y=(h-t.stSouth)*t.latScalar):(s.x=(S-g.west)*t.lonScalar,s.y=(h-g.south)*t.latScalar))}},p=new S.Matrix2,G=new l.Cartesian3,f=new l.Cartographic,x=new l.Cartesian3,R=new a.GeographicProjection;function b(t,n,a,r,e,o,s){var i=Math.cos(n),c=r*i,g=a*i,h=Math.sin(n),u=r*h,C=a*h;G=R.project(t,G),G=l.Cartesian3.subtract(G,x,G);i=S.Matrix2.fromRotation(n,p);G=S.Matrix2.multiplyByVector(i,G,G),G=l.Cartesian3.add(G,x,G),--o,--s;r=(t=R.unproject(G,t)).latitude,a=r+o*C,h=r-c*s,n=r-c*s+o*C,i=Math.max(r,a,h,n),r=Math.min(r,a,h,n),a=t.longitude,h=a+o*g,n=a+s*u,o=a+s*u+o*g;return{north:i,south:r,east:Math.max(a,h,n,o),west:Math.min(a,h,n,o),granYCos:c,granYSin:u,granXCos:g,granXSin:C,nwCorner:t}}r.computeOptions=function(t,n,a,r,e,o,s){var i=t.east,c=t.west,g=t.north,h=t.south,u=!1,C=!1;g===X.CesiumMath.PI_OVER_TWO&&(u=!0),h===-X.CesiumMath.PI_OVER_TWO&&(C=!0);var l,S=g-h,d=(w=i<c?X.CesiumMath.TWO_PI-c+i:i-c)/((l=Math.ceil(w/n)+1)-1),w=S/((M=Math.ceil(S/n)+1)-1),S=Y.Rectangle.northwest(t,o),n=Y.Rectangle.center(t,f);0===a&&0===r||(n.longitude<S.longitude&&(n.longitude+=X.CesiumMath.TWO_PI),x=R.project(n,x));var M,o=w,n=d,e=Y.Rectangle.clone(t,e),C={granYCos:o,granYSin:0,granXCos:n,granXSin:0,nwCorner:S,boundingRectangle:e,width:l,height:M,northCap:u,southCap:C};return 0!==a&&(g=(S=b(S,a,d,w,0,l,M)).north,h=S.south,i=S.east,c=S.west,C.granYCos=S.granYCos,C.granYSin=S.granYSin,C.granXCos=S.granXCos,C.granXSin=S.granXSin,e.north=g,e.south=h,e.east=i,e.west=c),0!==r&&(a-=r,M=b(s=Y.Rectangle.northwest(e,s),a,d,w,0,l,M),C.stGranYCos=M.granYCos,C.stGranXCos=M.granXCos,C.stGranYSin=M.granYSin,C.stGranXSin=M.granXSin,C.stNwCorner=s,C.stWest=M.west,C.stSouth=M.south),C},t.RectangleGeometryLibrary=r});
