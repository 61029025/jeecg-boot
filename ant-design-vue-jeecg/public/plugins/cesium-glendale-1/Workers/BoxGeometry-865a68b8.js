define(["exports","./when-54c2dc71","./Check-6c0211bc","./Cartographic-83b6e736","./ComponentDatatype-6d99a1ee","./Transforms-e2084567","./GeometryAttribute-1e2acabc","./GeometryAttributes-4fcfcf40","./GeometryOffsetAttribute-7350d9af","./VertexFormat-7572c785"],function(t,s,e,y,x,p,c,f,A,o){"use strict";var l=new y.Cartesian3;function m(t){var e=(t=s.defaultValue(t,s.defaultValue.EMPTY_OBJECT)).minimum,a=t.maximum,n=s.defaultValue(t.vertexFormat,o.VertexFormat.DEFAULT);this._minimum=y.Cartesian3.clone(e),this._maximum=y.Cartesian3.clone(a),this._vertexFormat=n,this._offsetAttribute=t.offsetAttribute,this._workerName="createBoxGeometry"}m.fromDimensions=function(t){var e=(t=s.defaultValue(t,s.defaultValue.EMPTY_OBJECT)).dimensions,e=y.Cartesian3.multiplyByScalar(e,.5,new y.Cartesian3);return new m({minimum:y.Cartesian3.negate(e,new y.Cartesian3),maximum:e,vertexFormat:t.vertexFormat,offsetAttribute:t.offsetAttribute})},m.fromAxisAlignedBoundingBox=function(t){return new m({minimum:t.minimum,maximum:t.maximum})},m.packedLength=2*y.Cartesian3.packedLength+o.VertexFormat.packedLength+1,m.pack=function(t,e,a){return a=s.defaultValue(a,0),y.Cartesian3.pack(t._minimum,e,a),y.Cartesian3.pack(t._maximum,e,a+y.Cartesian3.packedLength),o.VertexFormat.pack(t._vertexFormat,e,a+2*y.Cartesian3.packedLength),e[a+2*y.Cartesian3.packedLength+o.VertexFormat.packedLength]=s.defaultValue(t._offsetAttribute,-1),e};var a,u=new y.Cartesian3,C=new y.Cartesian3,b=new o.VertexFormat,d={minimum:u,maximum:C,vertexFormat:b,offsetAttribute:void 0};m.unpack=function(t,e,a){e=s.defaultValue(e,0);var n=y.Cartesian3.unpack(t,e,u),r=y.Cartesian3.unpack(t,e+y.Cartesian3.packedLength,C),i=o.VertexFormat.unpack(t,e+2*y.Cartesian3.packedLength,b),e=t[e+2*y.Cartesian3.packedLength+o.VertexFormat.packedLength];return s.defined(a)?(a._minimum=y.Cartesian3.clone(n,a._minimum),a._maximum=y.Cartesian3.clone(r,a._maximum),a._vertexFormat=o.VertexFormat.clone(i,a._vertexFormat),a._offsetAttribute=-1===e?void 0:e,a):(d.offsetAttribute=-1===e?void 0:e,new m(d))},m.createGeometry=function(t){var e=t._minimum,a=t._maximum,n=t._vertexFormat;if(!y.Cartesian3.equals(e,a)){var r,i,o=new f.GeometryAttributes;n.position&&(n.st||n.normal||n.tangent||n.bitangent)?(n.position&&((u=new Float64Array(72))[0]=e.x,u[1]=e.y,u[2]=a.z,u[3]=a.x,u[4]=e.y,u[5]=a.z,u[6]=a.x,u[7]=a.y,u[8]=a.z,u[9]=e.x,u[10]=a.y,u[11]=a.z,u[12]=e.x,u[13]=e.y,u[14]=e.z,u[15]=a.x,u[16]=e.y,u[17]=e.z,u[18]=a.x,u[19]=a.y,u[20]=e.z,u[21]=e.x,u[22]=a.y,u[23]=e.z,u[24]=a.x,u[25]=e.y,u[26]=e.z,u[27]=a.x,u[28]=a.y,u[29]=e.z,u[30]=a.x,u[31]=a.y,u[32]=a.z,u[33]=a.x,u[34]=e.y,u[35]=a.z,u[36]=e.x,u[37]=e.y,u[38]=e.z,u[39]=e.x,u[40]=a.y,u[41]=e.z,u[42]=e.x,u[43]=a.y,u[44]=a.z,u[45]=e.x,u[46]=e.y,u[47]=a.z,u[48]=e.x,u[49]=a.y,u[50]=e.z,u[51]=a.x,u[52]=a.y,u[53]=e.z,u[54]=a.x,u[55]=a.y,u[56]=a.z,u[57]=e.x,u[58]=a.y,u[59]=a.z,u[60]=e.x,u[61]=e.y,u[62]=e.z,u[63]=a.x,u[64]=e.y,u[65]=e.z,u[66]=a.x,u[67]=e.y,u[68]=a.z,u[69]=e.x,u[70]=e.y,u[71]=a.z,o.position=new c.GeometryAttribute({componentDatatype:x.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:u})),n.normal&&((r=new Float32Array(72))[0]=0,r[1]=0,r[2]=1,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=1,r[9]=0,r[10]=0,r[11]=1,r[12]=0,r[13]=0,r[14]=-1,r[15]=0,r[16]=0,r[17]=-1,r[18]=0,r[19]=0,r[20]=-1,r[21]=0,r[22]=0,r[23]=-1,r[24]=1,r[25]=0,r[26]=0,r[27]=1,r[28]=0,r[29]=0,r[30]=1,r[31]=0,r[32]=0,r[33]=1,r[34]=0,r[35]=0,r[36]=-1,r[37]=0,r[38]=0,r[39]=-1,r[40]=0,r[41]=0,r[42]=-1,r[43]=0,r[44]=0,r[45]=-1,r[46]=0,r[47]=0,r[48]=0,r[49]=1,r[50]=0,r[51]=0,r[52]=1,r[53]=0,r[54]=0,r[55]=1,r[56]=0,r[57]=0,r[58]=1,r[59]=0,r[60]=0,r[61]=-1,r[62]=0,r[63]=0,r[64]=-1,r[65]=0,r[66]=0,r[67]=-1,r[68]=0,r[69]=0,r[70]=-1,r[71]=0,o.normal=new c.GeometryAttribute({componentDatatype:x.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:r})),n.st&&((r=new Float32Array(48))[0]=0,r[1]=0,r[2]=1,r[3]=0,r[4]=1,r[5]=1,r[6]=0,r[7]=1,r[8]=1,r[9]=0,r[10]=0,r[11]=0,r[12]=0,r[13]=1,r[14]=1,r[15]=1,r[16]=0,r[17]=0,r[18]=1,r[19]=0,r[20]=1,r[21]=1,r[22]=0,r[23]=1,r[24]=1,r[25]=0,r[26]=0,r[27]=0,r[28]=0,r[29]=1,r[30]=1,r[31]=1,r[32]=1,r[33]=0,r[34]=0,r[35]=0,r[36]=0,r[37]=1,r[38]=1,r[39]=1,r[40]=0,r[41]=0,r[42]=1,r[43]=0,r[44]=1,r[45]=1,r[46]=0,r[47]=1,o.st=new c.GeometryAttribute({componentDatatype:x.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:r})),n.tangent&&((i=new Float32Array(72))[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i[6]=1,i[7]=0,i[8]=0,i[9]=1,i[10]=0,i[11]=0,i[12]=-1,i[13]=0,i[14]=0,i[15]=-1,i[16]=0,i[17]=0,i[18]=-1,i[19]=0,i[20]=0,i[21]=-1,i[22]=0,i[23]=0,i[24]=0,i[25]=1,i[26]=0,i[27]=0,i[28]=1,i[29]=0,i[30]=0,i[31]=1,i[32]=0,i[33]=0,i[34]=1,i[35]=0,i[36]=0,i[37]=-1,i[38]=0,i[39]=0,i[40]=-1,i[41]=0,i[42]=0,i[43]=-1,i[44]=0,i[45]=0,i[46]=-1,i[47]=0,i[48]=-1,i[49]=0,i[50]=0,i[51]=-1,i[52]=0,i[53]=0,i[54]=-1,i[55]=0,i[56]=0,i[57]=-1,i[58]=0,i[59]=0,i[60]=1,i[61]=0,i[62]=0,i[63]=1,i[64]=0,i[65]=0,i[66]=1,i[67]=0,i[68]=0,i[69]=1,i[70]=0,i[71]=0,o.tangent=new c.GeometryAttribute({componentDatatype:x.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:i})),n.bitangent&&((m=new Float32Array(72))[0]=0,m[1]=1,m[2]=0,m[3]=0,m[4]=1,m[5]=0,m[6]=0,m[7]=1,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=1,m[14]=0,m[15]=0,m[16]=1,m[17]=0,m[18]=0,m[19]=1,m[20]=0,m[21]=0,m[22]=1,m[23]=0,m[24]=0,m[25]=0,m[26]=1,m[27]=0,m[28]=0,m[29]=1,m[30]=0,m[31]=0,m[32]=1,m[33]=0,m[34]=0,m[35]=1,m[36]=0,m[37]=0,m[38]=1,m[39]=0,m[40]=0,m[41]=1,m[42]=0,m[43]=0,m[44]=1,m[45]=0,m[46]=0,m[47]=1,m[48]=0,m[49]=0,m[50]=1,m[51]=0,m[52]=0,m[53]=1,m[54]=0,m[55]=0,m[56]=1,m[57]=0,m[58]=0,m[59]=1,m[60]=0,m[61]=0,m[62]=1,m[63]=0,m[64]=0,m[65]=1,m[66]=0,m[67]=0,m[68]=1,m[69]=0,m[70]=0,m[71]=1,o.bitangent=new c.GeometryAttribute({componentDatatype:x.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:m})),(i=new Uint16Array(36))[0]=0,i[1]=1,i[2]=2,i[3]=0,i[4]=2,i[5]=3,i[6]=6,i[7]=5,i[8]=4,i[9]=7,i[10]=6,i[11]=4,i[12]=8,i[13]=9,i[14]=10,i[15]=8,i[16]=10,i[17]=11,i[18]=14,i[19]=13,i[20]=12,i[21]=15,i[22]=14,i[23]=12,i[24]=18,i[25]=17,i[26]=16,i[27]=19,i[28]=18,i[29]=16,i[30]=20,i[31]=21,i[32]=22,i[33]=20,i[34]=22,i[35]=23):((u=new Float64Array(24))[0]=e.x,u[1]=e.y,u[2]=e.z,u[3]=a.x,u[4]=e.y,u[5]=e.z,u[6]=a.x,u[7]=a.y,u[8]=e.z,u[9]=e.x,u[10]=a.y,u[11]=e.z,u[12]=e.x,u[13]=e.y,u[14]=a.z,u[15]=a.x,u[16]=e.y,u[17]=a.z,u[18]=a.x,u[19]=a.y,u[20]=a.z,u[21]=e.x,u[22]=a.y,u[23]=a.z,o.position=new c.GeometryAttribute({componentDatatype:x.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:u}),(i=new Uint16Array(36))[0]=4,i[1]=5,i[2]=6,i[3]=4,i[4]=6,i[5]=7,i[6]=1,i[7]=0,i[8]=3,i[9]=1,i[10]=3,i[11]=2,i[12]=1,i[13]=6,i[14]=5,i[15]=1,i[16]=2,i[17]=6,i[18]=2,i[19]=3,i[20]=7,i[21]=2,i[22]=7,i[23]=6,i[24]=3,i[25]=0,i[26]=4,i[27]=3,i[28]=4,i[29]=7,i[30]=0,i[31]=1,i[32]=5,i[33]=0,i[34]=5,i[35]=4);var m=y.Cartesian3.subtract(a,e,l),a=.5*y.Cartesian3.magnitude(m);s.defined(t._offsetAttribute)&&(e=u.length,m=new Uint8Array(e/3),e=t._offsetAttribute===A.GeometryOffsetAttribute.NONE?0:1,A.arrayFill(m,e),o.applyOffset=new c.GeometryAttribute({componentDatatype:x.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:m}));var u=function(t){for(var e=new y.Cartesian3(-1/0,-1/0,-1/0),a=new y.Cartesian3(1/0,1/0,1/0),n=0;n<t.length/3;n++){var r=new y.Cartesian3(t[3*n],t[3*n+1],t[3*n+2]);e.x=Math.max(e.x,r.x),e.y=Math.max(e.y,r.y),e.z=Math.max(e.z,r.z),a.x=Math.min(a.x,r.x),a.y=Math.min(a.y,r.y),a.z=Math.min(a.z,r.z)}return[e,a]}(u);return new c.Geometry({attributes:o,indices:i,primitiveType:c.PrimitiveType.TRIANGLES,boundingSphere:new p.BoundingSphere(y.Cartesian3.ZERO,a),offsetAttribute:t._offsetAttribute,MaxPoint:u[0],MinPoint:u[1]})}},m.getUnitBox=function(){return s.defined(a)||(a=m.createGeometry(m.fromDimensions({dimensions:new y.Cartesian3(1,1,1),vertexFormat:o.VertexFormat.POSITION_ONLY}))),a},t.BoxGeometry=m});
