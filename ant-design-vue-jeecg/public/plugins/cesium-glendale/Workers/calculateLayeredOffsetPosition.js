define(["./when-54c2dc71","./Check-6c0211bc","./Math-fc8cecf5","./Cartesian3-e5933291","./WebGLConstants-76bb35d1","./ComponentDatatype-6d99a1ee","./createTaskProcessorWorker","./Matrix4-a018fd55","./RuntimeError-2109023a"],function(a,e,t,p,r,n,s,v,i){"use strict";return s(function(a){for(var e=a.modelKey,t=a.featuresLength,r=a.stepval,n=a.content,s=a.HistoricalHierarchicalValue,i=a.modelCenterPOS,o=p.Cartesian3.unpack(i),c=a.featureMap,f=new Map,b=0;b<t;b++)for(var h=0;h<c.length;h++){if(0<c[h].glids.length)if(-1!=c[h].glids.indexOf(n.name[b])){for(var l=new v.Matrix4,d=0,u=0;u<h;u++)d+=c[u].box[5]-c[u].box[2];var M=0,M=s?r+s==0?0:r<0?-((h+1)*(Math.abs(r)+s)+d):(h+1)*(Math.abs(r)+s)+d:r<0?-((h+1)*Math.abs(r)+d):(h+1)*Math.abs(r)+d,C=p.Cartesian3.subtract(new p.Cartesian3(0,0,M),o,new p.Cartesian3);v.Matrix4.fromTranslation(C,l),f.set(b,l);break}}var m={};return m.modelKey=e,m.batchsMap=f,m})});
